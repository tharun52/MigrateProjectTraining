<div class="container mt-4">
  @if (isLoading) {
    <div class="d-flex justify-content-center my-5">
      <div class="spinner-border text-gradient" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  }
  @if (error) {
    <div class="alert alert-danger">{{ error }}</div>
  }

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="fw-semibold">All Products</h4>
    <a routerLink="/cart" class="btn btn-outline-primary position-relative">
      <i class="bi bi-cart3 me-1"></i>
      @if (cartCount>0) {
      <span
        class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"
      >
        {{ cartCount }}
        <span class="visually-hidden">items in cart</span>
      </span>
    }
    </a>
  </div>

  <div class="row">
    @for (id of productIds; track $index) {
      <div class="col-md-6 col-lg-4 mb-4 animate-fade-in">
        <app-product-card [productId]="id" [isCart]="false"></app-product-card>
      </div>
    }
  </div>
</div>
